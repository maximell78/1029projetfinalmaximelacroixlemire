<!-- inscription.html -->
<!-- Programmé par : Maxime Lacroix-Lemire -->
<!-- Dernière Mise À  Jour :  2021/04/14 -->

<!DOCTYPE html>
<html lang="fr-ca">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projet Final</title>
    <link rel="stylesheet" href="bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!--NavBar-->
    <header>
        <div class="navbarbg">
          <nav class="navbar navbar-expand-lg navbar-light">
            <button
              class="navbar-toggler"
              type="button"
              data-toggle="collapse"
              data-target="#navbarNav"
              aria-controls="navbarNav"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav">
                <li class="nav-item active">
                  <a class="nav-link text-warning" href="index.html">Accueil</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link text-warning" href="contact.html">Contact</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-warning" href="login.html">Login</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-warning" href="converter.html">Convertisseur</a>
                </li>
              </ul>
            </div>
          </nav>
        </div>
    </header>

    <section>
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <h1 class="text-center">Inscription</h1>

                </div>

            </div>
        </div>
        <div class="container pt-5">
            <div class="row">
                <div class="col-12 text-center">
                    <form>
                        <div>
                            <label for="nom"><strong>Nom : </strong></label>
                            <input type="text" name="nom" id="nom" required>
                            <label for="prenom"><strong>Prenom : </strong></label>
                            <input type="text" name="prenom" id="prenom" required></br>
                            <label for="email"><strong>Email : </strong></label>
                            <input type="email" name="email" id="email" required>
                            <label for="text"><strong>Confirmation Email : </strong></label>
                            <input type="confirmEmail" name="confirmEmail" id="confirmEmail" required><br>
                            <label for="password"><strong>Mot de passe : </strong></label>
                            <input type="password" name="password" id="password" required>
                            <label for="text"><strong>Confirmation Mot de passe : </strong></label>
                            <input type="Password" name="confirmPassword" id="confirmPassword" required><br>
                            <label for="sexe"><strong>Homme : </strong></label>
                            <input type="radio" name="sexe" id="sexeHomme">
                            <label for="sexe"><strong>Femme : </strong></label>
                            <input type="radio" name="sexe" id="sexeFemme">
                            <label for="sexe"><strong>Autres : </strong></label>
                            <input type="radio" name="sexe" id="sexeAutres"><br>
                            <select id="villes"></select></br></br>
                            <button onclick="validation()">Envoyé</button>                        
                    </form>
                    <div>
                        <p id="erreur"></p>
                    </div>
                    <!-- The Modal -->
                    <div id="myModal" class="modal">
                            <!-- Modal content -->
                        <div class="modal-content">
                            <span class="close">&times;</span>
                            <p>Inscription confirmé</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>        
    </section>    
    <footer>
        <div class="container-fluid">
            <div class="row">
                <div class="col-12 text-center navbarbg blanc">
                    <p>
                      Copyright © Budget Max - Tous droits réservés.
                    </p>  
                </div>  
            </div>  
        </div>
    </footer>    
</body>

<script>
// Selection de la ville
    var select = document.getElementById("villes");
    var city = ["Montreal", "Trois-Rivières", "Québec", "Sherbrooke", "Gatineau", "Rimouski", "Gaspé"];

    for (var compteur = 0; compteur < city.length; compteur++) {
        var optn = city[compteur];
        var el = document.createElement("option");
        el.textContent = optn;
        el.value = optn;
        select.appendChild(el);
    }

    // Get the modal
    var modal = document.getElementById("myModal");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
    modal.style.display = "none";
}


    // Validation du formulaire Contact

    function validation() {
        var isValid = true;
        var error = "";

        if (!document.getElementById("nom").value && !document.getElementById("nom").value.match(/^[A-Za-z]+$/))
        {
        isValid = false;
        error = error + "</br>Nom de famille non conforme</br>";
        }

        if (!document.getElementById("prenom").value && !document.getElementById("prenom").value.match(/^[A-Za-z]+$/))
        {
        isValid = false;
        error = error + "Prénom non conforme</br>";
        }
        
        //Test Email
        if (!document.getElementById("email").value || !document.getElementById("email").value.match(/^([a-z]@[a-z].[a-z]+)$/))
        {
        isValid = false;
        error = error + "Courriel non valide </br>";
        }

        if (!document.getElementById("confirmEmail").value || !document.getElementById("confirmEmail").value.match(/^([a-z]@[a-z].[a-z]+)$/))
        {
        isValid = false;
        error = error + " Confirmation du courriel non valide </br>";
        }

        //Test Password
        if (!document.getElementById("password").value && !document.getElementById("password").value.match(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[-+!*$@%_])([-+!*$@%_\w]{8,15})$/))
        {
        isValid = false;
        error = error + " Format du mot de passe incorrect </br>";
        }

        if (!document.getElementById("confirmPassword").value && !document.getElementById("confirmPassword").value.match(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[-+!*$@%_])([-+!*$@%_\w]{8,15})$/))
        {
        isValid = false;
        error = error + " Format de la confirmation du mot de passe incorrect </br>";
        }

        //Affichage de la validation
        if (isValid) {
            modal.style.display = "block";
        } else {
            document.getElementById("erreur").innerHTML = error;
        }
    }
</script>
</html>